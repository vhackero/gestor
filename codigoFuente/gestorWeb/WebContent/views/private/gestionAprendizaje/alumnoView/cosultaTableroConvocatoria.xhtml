<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">



	<p:panel header="Consulta Tablero Convocatoria">


		<div class="form-group">
			<div class="row">


				<div class="col-md-4 col-xs-12">

					<p:outputLabel styleClass="bloque" value="Convocatoria:" />

					<p:selectOneMenu value="#{convocatoriasBean.valueConvocatoria}" 
						styleClass="col-xs-12">
						<p:ajax event="change" process="@this" />
						<f:selectItem
							itemLabel="#{sistema.obtenerTexto('gw.textos.menu.seleccionar')}"
							itemValue="#{null}" />
						<f:selectItems value="#{convocatoriasBean.listaConvocatoria}"
							var="modalidad" itemLabel="#{modalidad.nombre}"
							itemValue="#{modalidad.convocatoriaId}" />
					</p:selectOneMenu>

				</div>


			</div>
		</div>
		
		<!-- Row 4 -->
				<div class="row">
					<!-- Busqueda de Eventos de capacitacion -->
					<div class="col-md-12">
						<p:commandButton id="btnBusquedaAvas" process="@form" ajax="true"
							update="@form" styleClass="btn btn-primary pull-right"
							action="#{convocatoriasBean.consultarTableroResumen}"
							value="#{sistema.obtenerTexto('gw.ga.btn.buscar')}" />
					</div>
				</div>

	</p:panel>
	
	
		<div class="row">
			<div class="col-md-12">
				<p:dataTable id="id"
					emptyMessage="#{sistema.obtenerTexto('gw.textos.tablas.sinRegistros')}"
					reflow="true" value="#{convocatoriasBean.listaTableResumen}"
					var="convo" paginator="true" rows="10" paginatorPosition="bottom"
					paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
					currentPageReportTemplate="({currentPage} de {totalPages})"
					rowsPerPageTemplate="5,10,15" tableStyleClass="table">

					<!-- Nombre Materia -->
					<p:column styleClass="text-center">
						<f:facet name="header">
							<h:outputText value="Convocatoria" />
						</f:facet>
						<h:outputText value="#{convo.nombreConvocatoria}" />
					</p:column>
					<!-- Periodo -->
					<p:column styleClass="text-center">
						<f:facet name="header">
							<h:outputText value="Plan" />
						</f:facet>
						<h:outputText value="#{convo.nombrePlan}" />
					</p:column>
					<!--Tipo Baja -->
					<p:column styleClass="text-center">
						<f:facet name="header">
							<h:outputText value="Usuarios vinculados" />
						</f:facet>
						<h:outputText value="#{convo.total}" />
					</p:column>
				</p:dataTable>
			</div>
		</div>

</ui:composition>