<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">
	
	
	
	<p:panel header="Nueva Convocatoria">
	
	<div class="form-group">
					<div class="row">

						<div class="col-md-4 col-xs-12">

							<p:outputLabel styleClass="bloque requerido" for="altaNombreConvocatoria"
								value="Nombre de la convocatoria:" rendered="true" />
							<p:inputText id="altaNombreConvocatoria"
								value="#{convocatoriasBean.convocatoriaParamNueva.altaNombreConvocatoria}"
								styleClass="form-control" />

						</div>

						<div class="col-md-4 col-xs-12">

							<p:outputLabel styleClass="bloque requerido" for="altaNombreCorto"
								value="Nombre corto:" rendered="true" />
							<p:inputText id="altaNombreCorto"
								value="#{convocatoriasBean.convocatoriaParamNueva.altaNombreCorto}"
								styleClass="form-control" />

						</div>

						<div class="col-md-4 col-xs-12">

							<p:outputLabel styleClass="bloque" for="altaDescripcion"
								value="Descripción:" rendered="true" />
							<p:inputText id="altaDescripcion"
								value="#{convocatoriasBean.convocatoriaParamNueva.altaDescripcion}"
								styleClass="form-control" />

						</div>



					</div>
				</div>
				
				<div class="form-group">
					<div class="row">



						<div class="col-md-4">
								<p:outputLabel styleClass="bloque requerido"
											   value="Fecha de apertura:" />
								<p:calendar id="fc_fechaInicial" 
											pattern="#{sistema.obtenerTexto('gw.textos.menu.formatoFecha')}"
											yearRange="c-100:c+100" locale="es"
											
											placeholder="#{sistema.obtenerTexto('gw.textos.menu.seleccionar')}"
											readonlyInput="true" navigator="true"
											value="#{convocatoriasBean.convocatoriaParamNueva.altaFechaApertura}"
											showOn="button">
									<p:ajax event="dateSelect" process="@this"
											update="fc_fechaFinal"
											listener="#{eventoCapacitacionBean.validarFechasAlta()}" />
								</p:calendar>

							</div>
							<!-- Fecha Final -->
							<div class="col-md-4">
								<p:outputLabel styleClass="bloque requerido"
											   value="Fecha de cierre:" />
								<p:calendar id="fc_fechaFinal" 
											mindate="#{convocatoriasBean.convocatoriaParamNueva.altaFechaApertura}"
											
											pattern="#{sistema.obtenerTexto('gw.textos.menu.formatoFecha')}"
											yearRange="c-100:c+100" locale="es"
											placeholder="#{sistema.obtenerTexto('gw.textos.menu.seleccionar')}"
											readonlyInput="true" navigator="true"
											value="#{convocatoriasBean.convocatoriaParamNueva.altaFechaCierre}"
											showOn="button">
									<p:ajax event="dateSelect" process="@this" />
								</p:calendar>
							</div>


							<div class="col-md-4 col-xs-12">

							<p:outputLabel styleClass="bloque requerido" value="Nivel educativo:" />
							<p:selectOneMenu value="#{convocatoriasBean.convocatoriaParamNueva.altaNivelEducativo}"
								styleClass="col-xs-12">
								<p:ajax event="change" process="@this" />
								<f:selectItem
									itemLabel="#{sistema.obtenerTexto('gw.textos.menu.seleccionar')}"
									itemValue="#{null}" />
								<f:selectItems value="#{convocatoriasBean.listaNivelEducativoCompl}"
									var="modalidad" itemLabel="#{modalidad.nombreivelEnsenanza} > #{modalidad.nombrePlan} > #{modalidad.nombrePrograma}"
									itemValue="#{modalidad}"  />

							</p:selectOneMenu>

						</div>


					</div>
				</div>


				<div class="form-group">
					<div class="row">


						<div class="col-md-4 col-xs-12">

							<p:outputLabel styleClass="bloque" for="altaUrl"
								value="URL de la convocatoria(PDF):" rendered="true" />
							<p:inputText id="altaUrl" value="#{convocatoriasBean.convocatoriaParamNueva.altaUrl}"
								styleClass="form-control" />

						</div>

						<div class="col-md-4 col-xs-12">

							<p:outputLabel styleClass="bloque requerido" value="Estatus:" />
							<p:selectOneMenu value="#{convocatoriasBean.convocatoriaParamNueva.altaEstatus}"
								styleClass="col-xs-12">
								<p:ajax event="change" process="@this" />
								<f:selectItem
									itemLabel="#{sistema.obtenerTexto('gw.textos.menu.seleccionar')}"
									itemValue="#{null}" />
								<f:selectItems value="#{convocatoriasBean.estatusLista}"
									var="modalidad" itemLabel="#{modalidad.nombreEstatus}"
									itemValue="#{modalidad.valorEstatus}" />

							</p:selectOneMenu>

						</div>


					</div>
				</div>

				<div class="form-group">
					<div class="row">


						<!-- Fecha Inicial  -->
						<div class="col-md-4">
							<p:outputLabel styleClass="bloque requerido" value="Fecha Alta:" />
							<p:calendar id="fc_fechaFinal2" 
											disabled="true"
											pattern="#{sistema.obtenerTexto('gw.textos.menu.formatoFecha')}"
											yearRange="c-100:c+100" locale="es"
											placeholder="#{sistema.obtenerTexto('gw.textos.menu.seleccionar')}"
											readonlyInput="true" navigator="true"
											value="#{convocatoriasBean.convocatoriaParamNueva.altaFechaAlta}"
											showOn="button">
									<p:ajax event="dateSelect" process="@this" />
									
							
							</p:calendar>

						</div>

						<div class="col-md-4 col-xs-12">

							<p:outputLabel styleClass="bloque" for="altaDescripcion"
								value="Cupo Límite:" rendered="true" />
							<p:inputText id="altaCupoLimite"
								value="#{convocatoriasBean.convocatoriaParamNueva.altaCupoLimite}"
								styleClass="form-control" />

						</div>
						
						
						
						
	
						
					

					</div>
				</div>
	
		<div class="form-group">
			<div class="row">

				<div class="col-md-12 text-right">
				
					<p:commandButton value="Cancelar" process="@this"
										 update="@form"
										 action="#{convocatoriasBean.cancelar}" ajax="true"
										 styleClass="btn btn-default" />
						
						<p:commandButton value="Limpiar campos" process="@this"
										 update="@form"
										 action="#{convocatoriasBean.limpiarCampos}" ajax="true"
										 styleClass="btn btn-default" />

					
						<p:commandButton id="btnBusquedaAvas" process="@form" ajax="true"
							update="@form" styleClass="btn btn-primary pull-right"
							action="#{convocatoriasBean.altaConvocatorias}"
							value="Guardar" />
					
					
					
				</div>
			</div>
		</div>

		
	</p:panel>
	
	<p:dialog appendTo="@(body)" draggable="false" position="center"
			resizable="false" closable="false" modal="true" width="600px"
			widgetVar="dlgValidarSeleccion8" header="Informativo" dynamic="true">
			<div class="form-group">
				<div class="row">
					<div class="col-md-12">
						<h:outputText styleClass="bloque"
							value="Ingrese los datos marcados como obligatorios." />
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-md-12 text-right">
					<p:commandButton value="Cerrar" styleClass="btn btn-default"
						onclick="PF('dlgValidarSeleccion8').hide()" />
				</div>
			</div>
		</p:dialog>
		
		<p:dialog appendTo="@(body)" draggable="false" position="center"
			resizable="false" closable="false" modal="true" width="600px"
			widgetVar="dlgValidarSeleccion9" header="Informativo" dynamic="true">
			<div class="form-group">
				<div class="row">
					<div class="col-md-12">
						<h:outputText styleClass="bloque"
							value="Convocatoria generada exitosamente." />
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-md-12 text-right">
					<p:commandButton value="Cerrar" styleClass="btn btn-default"
						onclick="PF('dlgValidarSeleccion9').hide()" />
				</div>
			</div>
		</p:dialog>
	
</ui:composition>